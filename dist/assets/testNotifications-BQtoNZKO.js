const i={testToast:e=>{e({title:"ğŸ§ª Teste de Toast",message:"Esta Ã© uma notificaÃ§Ã£o de teste do sistema",type:"info"})},testPushNotification:()=>"Notification"in window&&Notification.permission==="granted"?(new Notification("ğŸ§ª Teste Push - IgrejaConnect",{body:"Sistema de notificaÃ§Ãµes funcionando corretamente!",icon:"/favicon.ico",badge:"/favicon.ico",tag:"test-notification"}),!0):!1,testApiNotification:async()=>{try{const e=localStorage.getItem("supabase_token"),t=await fetch("/api/notifications",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({title:"ğŸ§ª Teste de API",message:"NotificaÃ§Ã£o criada via API de teste",type:"success",send_to_all:!1,target_users:[]})});if(t.ok){const o=await t.json();return console.log("âœ… Teste de API bem-sucedido:",o),!0}else return console.error("âŒ Erro no teste de API:",t.statusText),!1}catch(e){return console.error("âŒ Erro no teste de API:",e),!1}},testBirthdayNotifications:async()=>{try{const e=localStorage.getItem("supabase_token"),t=await fetch("/api/notifications/auto/birthday",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const o=await t.json();return console.log("âœ… Teste de aniversÃ¡rios bem-sucedido:",o),o}else return console.error("âŒ Erro no teste de aniversÃ¡rios:",t.statusText),!1}catch(e){return console.error("âŒ Erro no teste de aniversÃ¡rios:",e),!1}},testMeetingNotifications:async()=>{try{const e=localStorage.getItem("supabase_token"),t=await fetch("/api/notifications/auto/meetings",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const o=await t.json();return console.log("âœ… Teste de reuniÃµes bem-sucedido:",o),o}else return console.error("âŒ Erro no teste de reuniÃµes:",t.statusText),!1}catch(e){return console.error("âŒ Erro no teste de reuniÃµes:",e),!1}},runAllTests:async e=>{console.log("ğŸ§ª Iniciando testes do sistema de notificaÃ§Ãµes..."),console.log("1. Testando toast..."),i.testToast(e),await new Promise(s=>setTimeout(s,2e3)),console.log("2. Testando push notification...");const t=i.testPushNotification();console.log(t?"âœ… Push notification OK":"âš ï¸ Push notification nÃ£o disponÃ­vel"),await new Promise(s=>setTimeout(s,2e3)),console.log("3. Testando API de notificaÃ§Ãµes...");const o=await i.testApiNotification();console.log(o?"âœ… API OK":"âŒ API com erro"),await new Promise(s=>setTimeout(s,2e3)),console.log("4. Testando notificaÃ§Ãµes de aniversÃ¡rio...");const n=await i.testBirthdayNotifications();console.log(n?"âœ… AniversÃ¡rios OK":"âŒ AniversÃ¡rios com erro"),await new Promise(s=>setTimeout(s,2e3)),console.log("5. Testando notificaÃ§Ãµes de reuniÃµes...");const a=await i.testMeetingNotifications();return console.log(a?"âœ… ReuniÃµes OK":"âŒ ReuniÃµes com erro"),console.log("ğŸ‰ Testes concluÃ­dos!"),e({title:"ğŸ‰ Testes concluÃ­dos!",message:"Verifique o console para ver os resultados detalhados",type:"success"}),{toast:!0,push:t,api:o,birthday:!!n,meeting:!!a}}};typeof window<"u"&&(window.testNotifications=i);export{i as testNotificationSystem};
